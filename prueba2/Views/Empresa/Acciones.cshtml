@model rhcon.Models.ViewModel.DataResultadosViewModel
@{
    ViewBag.Title = "Acciones";
    Layout = "~/Views/Shared/_LayoutCrud.cshtml";
    ViewBag.Css = "";
    string[] opcionesValidas = { "Alto", "Muy alto" };
}
<style>
    /*agregar comentario*/
    *{
        font-size:14px;
    }
    table, tr, th, td {
        border: 1.5px solid black
    }

    td {
        background-color: #e0ded7;
        text-align: center;
    }

    th {
        background-color: #a19d94;
        text-align: center;
    }

    td, th {
        padding: 15px
    }

    .titulo {
        font-weight: bold;
        padding: 10px
    }


    .circulo {
        width: 45px;
        height: 45px;
        -moz-border-radius: 50%;
        -webkit-border-radius: 50%;
        border-radius: 50%;
        background: #ff7b08;
    }

    .circulo-nivel {
        width: 25px;
        height: 25px;
        -moz-border-radius: 50%;
        -webkit-border-radius: 50%;
        border-radius: 50%;
    }

    select {
        display: block;
        text-align: center;
        text-align-last: center;
        width: 100%;
        border: 1.5px solid #878787;
        border-radius: 4px;
        color: #666665;
        padding: 10px 0;
    }

    option {
        text-align: left;
        text-align:center;
    }

    input {
        width: 100%;
        border: 1.5px solid #878787;
        border-radius: 4px;
        color: #666665;
        padding: 8px 0;
    }

    .boton-enviar {
        width: 110px;
    }

    .boton-personalizado {
        text-decoration: none;
        font-size: 15px;
        color: #333333;
        padding-top: 15px;
        padding-bottom: 15px;
        padding-left: 50px;
        padding-right: 50px;
        background-color: #ffffff;
        border-color: #878787;
        border-width: 1px;
        border-style: solid;
        border-radius: 4px;
    }

    .disabled {
        display: none;
    }

    .nivelRiesgo {
        position: relative;
    }

    .descripcion {
        color: #1886f4;
        text-decoration-line: underline;
        padding-left: 10px;
        cursor: pointer;
        font-size:11px;
    }

    .tooltipD {
        position: absolute;
        top: 100%;
        background-color: white;
        z-index: 100;
        box-shadow: rgba(0, 0, 0, 0.19) 0px 10px 20px, rgba(0, 0, 0, 0.23) 0px 6px 6px;
        padding: 2px 4px;
        display: none;
        border-radius: 10px;
        transition: 2s ease;
        width:350px;
    }

    .descripcion:hover ~ .tooltipD {
        display: block;
        transition: 1s ease;
        
    }

    .estado {
        padding-left: 10px;
    }

    .azul {
        background-color: #9ac5ed;
        fill: #9ac5ed;
    }


    .verde {
        background-color: #6bed4e;
        fill: #6bed4e;
    }

    .amarillo {
        background-color: #fff86b;
        fill: #fff86b;
    }

    .naranja {
        background-color: #e88a2c;
        fill: #e88a2c;
    }

    .rojo {
        background-color: #bd5151;
        fill: #bd5151;
    }

    .checkIcon {
        display: flex;
        justify-content: center;
        align-items: center;
        color: #40ad63;
        font-size: 16px;
    }

    .checkIcon span {
            padding: 0 10px;
    }

    .fecha {
        display: block;
        text-align: center;
    }

    .tabla-descripcion
    {
        font-size:14px;
    }

    .estado{
        font-size:11px;
    }

    .alert{
        color:#f2f542 !important;
    }
</style>
@using (Html.BeginForm("AcAmbienteTrabajo", "Resultados", FormMethod.Post,
    new { id = "form" } /*new { enctype = "multipart/form-data" }*/))
{

    <div class="container-fluid">
        <div class="row">
            <div class="d-flex justify-content-center">
                <h4>Plan De Acción NOM 035 STPS-2018</h4>
            </div>
        </div>


        <div class="d-flex justify-content-center">
            <select id="filtros">
                <option value="1">
                    AMBIENTE DE TRABAJO
                </option>
                <option value="2">
                    FACTORES PROPIOS DE LA ACTIVIDAD
                </option>
                <option value="3">
                    ORGANIZACIÓN DEL TIEMPO DE TRABAJO
                </option>
                <option value="4">
                    LIDERAZGO Y RELACIONES EN EL TRABAJO
                </option>
                <option value="5">
                    ENTORNO ORGANIZACIONAL
                </option>
            </select>
        </div>

        @* primera categoria *@
        <div id="categoria1">


            <div class="row " style="margin-top:15px;">
                <table class="default">

                    @*<tr>

                        <th>Categoria</th>

                        <td>AMBIENTE DE TRABAJO</td>

                    </tr>*@

                    <tr>

                        <th>Dominio</th>

                        <td>
                            Condiciones en el Ambiente de
                            Trabajo, evalúa la percepción del
                            trabajador sobre las condiciones
                            físicas, seguridad e higiene del
                            centro de trabajo; muestra si en
                            trabajador percibe un riesgo
                            psicosocial derivado de las
                            condiciones peligrosas e inseguras o
                            deficientes e insalubres, quebajo
                            ciertas circunstancias le exigen un
                            esfuerzo adicional de adaptación en
                            su puesto de trabajo
                        </td>

                    </tr>

                    @*<tr>

                        <th>Dimension</th>

                        <td>
                            La encuesta muestra que las personas perciben la categoría de condiciones en el ambiente de trabajo deficientes.
                        </td>

                    </tr>*@

                </table>
            </div>

            <div class="row row-cols-6" style="margin-top: 20px;  border-bottom: 2px solid #e0ded7">
                <div class="col tabla-descripcion"><span class="titulo">Dimensión</span></div>
                <div class="col tabla-descripcion"><span class="titulo">Nivel de riesgo</span></div>
                <div class="col tabla-descripcion"><span class="titulo">Acción de mejora</span></div>
                <div class="col tabla-descripcion"><span class="titulo">Descripcion Detallada</span></div>
                <div class="col tabla-descripcion"><span class="titulo">Responsable</span></div>
                <div class="col tabla-descripcion"><span class="titulo">Fecha Compromiso</span></div>
            </div>
            <br />

            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Condiciones peligrosas e inseguras
                        </p>

                    </div>
                </div>


                    <input type="hidden" class="agregar" name="dimension" id="dimension" value="Condiciones peligrosas e inseguras" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.condiciones_peligrosas_inseguras.color"></div>
                        <span class="estado">@Model.dimensionesVal.condiciones_peligrosas_inseguras.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.condiciones_peligrosas_inseguras.text
                        </span>
                        <input type="hidden" id="estado" name="estado" value="@Model.dimensionesVal.condiciones_peligrosas_inseguras.estado" />
                        <input type="hidden" id="descripcion" name="descripcion" value="@Model.dimensionesVal.condiciones_peligrosas_inseguras.text" />
                        <input type="hidden" id="color" name="color" value="@Model.dimensionesVal.condiciones_peligrosas_inseguras.color" />
                    </div>
                    <div class="col">
                        <select name="accion" id="acciones" class="acc">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.condiciones_peligrosas_inseguras.estado))
                            {
                            <option value="0" class="alert">
                                No requiere acciones a realizar
                            </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }

                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion" id="medidaDePrevencion" class="med">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.condiciones_peligrosas_inseguras.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de Prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.condiciones_peligrosas_inseguras.prevenciones)
                            {
                                <option value="@item.prevencion">
                                   @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable" id="responsable" class="resp">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.condiciones_peligrosas_inseguras.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Reponsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>

                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.condiciones_peligrosas_inseguras.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }

                            <input type="hidden" name="dominio" value="Condiciones en el ambiente de trabajo" />
                            <input type="hidden" name="categoria" value="Ambiente de trabajo" />

                        </div>
                    </div>
                
            
            </div>
            <br />

            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Condiciones deficientes e insalubres
                        </p>

                    </div>
                </div>

                    <input type="hidden" name="dimension" id="dimension" value="Condiciones deficientes e insalubres" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.condiciones_deficientes_insalubres.color"></div>
                        <span class="estado">@Model.dimensionesVal.condiciones_deficientes_insalubres.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.condiciones_deficientes_insalubres.text
                        </span>
                        <input type="hidden" name="estado" id="estado" value="@Model.dimensionesVal.condiciones_deficientes_insalubres.estado" />
                        <input type="hidden" name="descripcion" id="descripcion" value="@Model.dimensionesVal.condiciones_deficientes_insalubres.text" />
                        <input type="hidden" name="color" id="color" value="@Model.dimensionesVal.condiciones_deficientes_insalubres.color" />

                    </div>
                    <div class="col">
                        <select name="accion" id="acciones" class="acc">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.condiciones_deficientes_insalubres.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion" id="medidaDePrevencion" class="med">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.condiciones_deficientes_insalubres.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {

                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.condiciones_deficientes_insalubres.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable" id="responsable" class="resp">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.condiciones_deficientes_insalubres.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>

                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.condiciones_deficientes_insalubres.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }

                            <input type="hidden" name="dominio" value="Condiciones en el ambiente de trabajo" />
                            <input type="hidden" name="categoria" value="Ambiente de trabajo" />
                        </div>
                    </div>
                
         
            </div>

            <br />

            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Trabajos peligrosos
                        </p>

                    </div>
                </div>



                    <input type="hidden" name="dimension" id="dimension" value="Trabajos peligrosos" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.trabajos_peligrosos.color"></div>
                        <span class="estado">@Model.dimensionesVal.trabajos_peligrosos.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.trabajos_peligrosos.text
                        </span>
                        <input type="hidden" name="estado" id="estado" value="@Model.dimensionesVal.trabajos_peligrosos.estado" />
                        <input type="hidden" name="descripcion" id="descripcion" value="@Model.dimensionesVal.trabajos_peligrosos.text" />
                        <input type="hidden" name="color" id="color" value="@Model.dimensionesVal.trabajos_peligrosos.color" />
                    </div>



                    <div class="col">
                        <select name="accion" id="acciones">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.trabajos_peligrosos.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>


                    <div class="col">

                        <select name="medidasPrevencion" id="medidaDePrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.trabajos_peligrosos.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.trabajos_peligrosos.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>


                    <div class="col">
                        <select name="responsable" id="reponsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.trabajos_peligrosos.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }

                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>


                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.trabajos_peligrosos.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }

                            <input type="hidden" name="dominio" value="Condiciones en el ambiente de trabajo" />
                            <input type="hidden" name="categoria" value="Ambiente de trabajo" />
                        </div>
                    </div>
                
      
            </div>


        </div>

        @* Segunda categoria *@
        <div id="categoria2">
            <div class="row" style="margin-top:15px;">
                <table class="default">

                    @*<tr>

                        <th>Categoria</th>

                        <td>
                            FACTORES PROPIOS DE LA ACTIVIDAD
                        </td>

                    </tr>*@

                    <tr>

                        <th>Dominio</th>

                        <td>
                            Carga de Trabajo, se refiere a las
                            exigencias que el trabajador siente
                            le son impuestas por las funciones o
                            tareas asignadas y que exceden su
                            capacidad, pueden ser de diversa
                            naturaleza, como cuantitativas,
                            cognitivas o mentales, emocionales,
                            de responsabilidad, así como cargas
                            contradictorias o inconsistentes.
                        </td>

                    </tr>

                    @*<tr>

                        <th>Dimension</th>

                        <td>
                            El personal indica que lostiemposson poco respetados, por lo
                            que casi nunca tiene controlsobre su horario de trabajo.
                        </td>

                    </tr>*@

                </table>
            </div>

            <div class="row row-cols-6" style="margin-top: 20px;  border-bottom: 2px solid #e0ded7">
                <div class="col"><span class="titulo">Dimensión</span></div>
                <div class="col"><span class="titulo">Nivel de riesgo</span></div>
                <div class="col"><span class="titulo">Acción de mejora</span></div>
                <div class="col"><span class="titulo">Descripcion Detallada</span></div>
                <div class="col"><span class="titulo">Responsable</span></div>
                <div class="col"><span class="titulo">Fecha Compromiso</span></div>
            </div>
            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Cargas cuantitativas
                        </p>
                    </div>
                </div>
               
                    <input type="hidden" id="dimension" name="dimension" value="cargas cuantitativas" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.cargas_cuantitativas.color"></div>
                        <span class="estado">@Model.dimensionesVal.cargas_cuantitativas.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.cargas_cuantitativas.text
                        </span>
                        <input type="hidden" id="estado" name="estado" value="@Model.dimensionesVal.cargas_cuantitativas.estado" />
                        <input type="hidden" id="descripcion" name="descripcion" value="@Model.dimensionesVal.cargas_cuantitativas.text" />
                        <input type="hidden" name="color" id="color" value="@Model.dimensionesVal.cargas_cuantitativas.color" />
                    </div>

                    <div class="col">
                        <select name="accion" id="acciones">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.cargas_cuantitativas.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="medidasPrevencion" id="medidaDePrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.cargas_cuantitativas.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.cargas_cuantitativas.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable" id="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.cargas_cuantitativas.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.cargas_cuantitativas.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Carga de trabajo" />
                            <input type="hidden" name="categoria" value="Factores propios de la actividad" />
                        </div>
                    </div>
            </div>

            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Ritmos de trabajo acelerados
                        </p>
                    </div>
                </div>
              
                    <input type="hidden" name="dimension" id="dimension" value="ritmos de trabajo acelerado" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.ritmos_trabajo_acelerado.color"></div>
                        <span class="estado">@Model.dimensionesVal.ritmos_trabajo_acelerado.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.ritmos_trabajo_acelerado.text
                        </span>
                        <input type="hidden" id="estado" name="estado" value="@Model.dimensionesVal.ritmos_trabajo_acelerado.estado" />
                        <input type="hidden" id="descripcion" name="descripcion" value="@Model.dimensionesVal.ritmos_trabajo_acelerado.text" />
                        <input type="hidden" id="color" name="color" value="@Model.dimensionesVal.ritmos_trabajo_acelerado.color" />
                    </div>

                    <div class="col">
                        <select name="accion" id="acciones">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.ritmos_trabajo_acelerado.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion" id="medidaDePrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.ritmos_trabajo_acelerado.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }

                            @foreach (var item in Model.dimensionesVal.ritmos_trabajo_acelerado.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable" id="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.ritmos_trabajo_acelerado.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }

                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>

                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.ritmos_trabajo_acelerado.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Carga de trabajo" />
                            <input type="hidden" name="categoria" value="Factores propios de la actividad" />
                        </div>
                    </div>
                
            
            </div>


            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Carga mental
                        </p>
                    </div>
                </div>

               
                    <input type="hidden" id="dimension" name="dimension" value="carga mental" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.carga_mental.color"></div>
                        <span class="estado">@Model.dimensionesVal.carga_mental.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.carga_mental.text
                        </span>
                        <input type="hidden" id="estado" name="estado" value="@Model.dimensionesVal.carga_mental.estado" />
                        <input type="hidden" id="descripcion" name="descripcion" value="@Model.dimensionesVal.carga_mental.text" />
                        <input type="hidden" id="color" name="color" value="@Model.dimensionesVal.carga_mental.color" />

                    </div>

                    <div class="col">
                        <select name="accion" id="acciones">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.carga_mental.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }

                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion" id="medidaDePrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.carga_mental.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }

                            @foreach (var item in Model.dimensionesVal.carga_mental.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable" id="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.carga_mental.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }

                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.carga_mental.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Carga de trabajo" />
                            <input type="hidden" name="categoria" value="Factores propios de la actividad" />
                        </div>
                    </div>
                
            </div>
            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Cargas psicológicas emocionales
                        </p>
                    </div>
                </div>

                
                    <input type="hidden" id="dimension" name="dimension" value="Cargas psicológicas emocionales" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.cargas_psicologicas_emocionales.color"></div>
                        <span class="estado">@Model.dimensionesVal.cargas_psicologicas_emocionales.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.cargas_psicologicas_emocionales.text
                        </span>
                        <input type="hidden" id="estado" name="estado" value="@Model.dimensionesVal.cargas_psicologicas_emocionales.estado" />
                        <input type="hidden" id="descripcion" name="descripcion" value="@Model.dimensionesVal.cargas_psicologicas_emocionales.text" />
                        <input type="hidden" id="color" name="color" value="@Model.dimensionesVal.cargas_psicologicas_emocionales.color" />
                    </div>



                    <div class="col">
                        <select name="accion" id="acciones">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.cargas_psicologicas_emocionales.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion" id="medidaDePrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.cargas_psicologicas_emocionales.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.cargas_psicologicas_emocionales.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable" id="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.cargas_psicologicas_emocionales.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }
                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.cargas_psicologicas_emocionales.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Carga de trabajo" />
                            <input type="hidden" name="categoria" value="Factores propios de la actividad" />
                        </div>
                    </div>

            </div>

            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Cargas de alta responsabilidad
                        </p>
                    </div>
                </div>

               
                    <input type="hidden" id="dimension" name="dimension" value="Cargas de alta responsabilidad" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.cargas_alta_responsabilidad.color"></div>
                        <span class="estado">@Model.dimensionesVal.cargas_alta_responsabilidad.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.cargas_alta_responsabilidad.text
                        </span>
                        <input type="hidden" id="estado" name="estado" value="@Model.dimensionesVal.cargas_alta_responsabilidad.estado" />
                        <input type="hidden" id="descripcion" name="descripcion" value="@Model.dimensionesVal.cargas_alta_responsabilidad.text" />
                        <input type="hidden" id="color" name="color" value="@Model.dimensionesVal.cargas_alta_responsabilidad.color" />
                    </div>

                    <div class="col">
                        <select name="accion" id="accion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.cargas_alta_responsabilidad.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion" id="medidaDePrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.cargas_alta_responsabilidad.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.cargas_alta_responsabilidad.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable" id="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.cargas_alta_responsabilidad.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.cargas_alta_responsabilidad.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Carga de trabajo" />
                            <input type="hidden" name="categoria" value="Factores propios de la actividad" />
                        </div>
                    </div>

            </div>
            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Cargas contradictorias e inconsistentes
                        </p>
                    </div>
                </div>

                    <input type="hidden" id="dimension" name="dimension" value="Cargas contradictorias e inconsistentes" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.cargas_contradictorias_inconsistentes.color"></div>
                        <span class="estado">@Model.dimensionesVal.cargas_contradictorias_inconsistentes.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.cargas_contradictorias_inconsistentes.text
                        </span>
                        <input type="hidden" id="estado" name="estado" value="@Model.dimensionesVal.cargas_contradictorias_inconsistentes.estado" />
                        <input type="hidden" id="descripcion" name="descripcion" value="@Model.dimensionesVal.cargas_contradictorias_inconsistentes.text" />
                        <input type="hidden" id="color" name="color" value="@Model.dimensionesVal.cargas_contradictorias_inconsistentes.color" />
                    </div>



                    <div class="col">
                        <select name="accion" id="acciones">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.cargas_contradictorias_inconsistentes.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion" id="medidaDePrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.cargas_contradictorias_inconsistentes.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.cargas_contradictorias_inconsistentes.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable" id="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.cargas_contradictorias_inconsistentes.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.cargas_contradictorias_inconsistentes.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Carga de trabajo" />
                            <input type="hidden" name="categoria" value="Factores propios de la actividad" />
                        </div>
                    </div>
                

            </div>

            <div class="row" style="margin-top:15px;">
                <table class="default">

                    @*<tr>

                        <th>Categoria</th>

                        <td>
                            FACTORES PROPIOS DE LA ACTIVIDAD
                        </td>

                    </tr>*@

                    <tr>

                        <th>Dominio</th>

                        <td>
                            Control sobre el Trabajo, se refiere a
                            la posibilidad que tiene eltrabajador
                            para influir y tomar decisiones en la
                            realización de sus actividades. La
                            iniciativa y autonomía; elementos
                            que cuando son inexistentes o
                            escasos, se convierten en un factor
                            de riesgo. Este dominio sólo debe
                            considerarse para procesos y/o
                            actividades en los que se requiere
                            toma de decisiones y el trabajador
                            cuenta con conocimientos y
                            experiencia necesaria para tal
                            efecto.
                        </td>

                    </tr>

                    @*<tr>

                        <th>Dimension</th>

                        <td>
                            Expone que casi nunca puede adecuar las actividades a su
                            propio ritmo y orden, que difícilmente puede tomar pausas
                            cuando lo necesita, así mismo que casi no tienen poder de
                            decidir sobre cuanto trabajo realiza durante la jornada
                            laboral.

                        </td>

                    </tr>*@

                </table>
            </div>

            <div class="row row-cols-6" style="margin-top: 20px;  border-bottom: 2px solid #e0ded7">
                <div class="col"><span class="titulo">Dimensión</span></div>
                <div class="col"><span class="titulo">Nivel de riesgo</span></div>
                <div class="col"><span class="titulo">Acción de mejora</span></div>
                <div class="col"><span class="titulo">Descripcion Detallada</span></div>
                <div class="col"><span class="titulo">Responsable</span></div>
                <div class="col"><span class="titulo">Fecha Compromiso</span></div>
            </div>
            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Falta de control y autonomía sobre el trabajo
                        </p>
                    </div>
                </div>
               
                    <input type="hidden" id="dimension" name="dimension" value=" Falta de control y autonomía sobre el trabajo" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.falta_control_autonomia_sobre_trabajo.color"></div>
                        <span class="estado">@Model.dimensionesVal.falta_control_autonomia_sobre_trabajo.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.falta_control_autonomia_sobre_trabajo.text
                        </span>
                        <input type="hidden" id="estado" name="estado" value="@Model.dimensionesVal.falta_control_autonomia_sobre_trabajo.estado" />
                        <input type="hidden" id="descripcion" name="descripcion" value="@Model.dimensionesVal.falta_control_autonomia_sobre_trabajo.text" />
                        <input type="hidden" id="color" name="color" value="@Model.dimensionesVal.falta_control_autonomia_sobre_trabajo.color" />
                    </div>

                    <div class="col">
                        <select name="accion" id="acciones">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.falta_control_autonomia_sobre_trabajo.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion" id="medidaDePrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.falta_control_autonomia_sobre_trabajo.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.falta_control_autonomia_sobre_trabajo.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable" id="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.falta_control_autonomia_sobre_trabajo.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.falta_control_autonomia_sobre_trabajo.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Falta de control sobre el trabajo" />
                            <input type="hidden" name="categoria" value="Factores propios de la actividad" />
                        </div>
                    </div>

            </div>

            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Limitada o nula posibilidad de desarrollo
                        </p>
                    </div>
                </div>
                
                    <input type="hidden" id="dimension" name="dimension" value="Limitada o nula posibilidad de desarrollo" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.limitada_nula_posibilidad_desarrollo.color"></div>
                        <span class="estado">@Model.dimensionesVal.limitada_nula_posibilidad_desarrollo.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.limitada_nula_posibilidad_desarrollo.text
                        </span>
                        <input type="hidden" id="estado" name="estado" value="@Model.dimensionesVal.limitada_nula_posibilidad_desarrollo.estado" />
                        <input type="hidden" id="descripcion" name="descripcion" value="@Model.dimensionesVal.limitada_nula_posibilidad_desarrollo.text" />
                        <input type="hidden" id="color" name="color" value="@Model.dimensionesVal.limitada_nula_posibilidad_desarrollo.color" />
                    </div>

                    <div class="col">
                        <select name="accion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.limitada_nula_posibilidad_desarrollo.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion" id="medidaDePrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.limitada_nula_posibilidad_desarrollo.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.limitada_nula_posibilidad_desarrollo.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable" id="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.limitada_nula_posibilidad_desarrollo.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.limitada_nula_posibilidad_desarrollo.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Falta de control sobre el trabajo" />
                            <input type="hidden" name="categoria" value="Factores propios de la actividad" />
                        </div>
                    </div>

            </div>

            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Insuficiente participación y manejo del cambio
                        </p>
                    </div>
                </div>
               
                    <input type="hidden" id="dimension" name="dimension" value="Insuficiente participación y manejo del cambio" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.insuficiente_participacion_manejo_cambio.color"></div>
                        <span class="estado">@Model.dimensionesVal.insuficiente_participacion_manejo_cambio.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.insuficiente_participacion_manejo_cambio.text
                        </span>
                        <input type="hidden" id="estado" name="estado" value="@Model.dimensionesVal.insuficiente_participacion_manejo_cambio.estado" />
                        <input type="hidden" id="descripcion" name="descripcion" value="@Model.dimensionesVal.insuficiente_participacion_manejo_cambio.text" />
                        <input type="hidden" id="color" name="color" value="@Model.dimensionesVal.insuficiente_participacion_manejo_cambio.color" />
                    </div>


                    <div class="col">
                        <select name="accion" id="acciones">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.insuficiente_participacion_manejo_cambio.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion" id="medidaDePrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.insuficiente_participacion_manejo_cambio.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.insuficiente_participacion_manejo_cambio.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable" id="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.insuficiente_participacion_manejo_cambio.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.insuficiente_participacion_manejo_cambio.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Falta de control sobre el trabajo" />
                            <input type="hidden" name="categoria" value="Factores propios de la actividad" />
                        </div>
                    </div>
            </div>

            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Limitada o inexistente capacitación
                        </p>
                    </div>
                </div>

                    <input type="hidden" id="dimension" name="dimension" value="Limitada o inexistente capacitación" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.limitada_inexistente_capacitacion.color"></div>
                        <span class="estado">@Model.dimensionesVal.limitada_inexistente_capacitacion.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.limitada_inexistente_capacitacion.text
                        </span>
                        <input type="hidden" id="estado" name="estado" value="@Model.dimensionesVal.limitada_inexistente_capacitacion.estado" />
                        <input type="hidden" id="descripcion" name="descripcion" value="@Model.dimensionesVal.limitada_inexistente_capacitacion.text" />
                        <input type="hidden" id="color" name="color" value="@Model.dimensionesVal.limitada_inexistente_capacitacion.color" />
                    </div>



                    <div class="col">
                        <select name="accion" id="acciones">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.limitada_inexistente_capacitacion.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion" id="medidaDePrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.limitada_inexistente_capacitacion.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.limitada_inexistente_capacitacion.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable" id="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.limitada_inexistente_capacitacion.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.limitada_inexistente_capacitacion.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Falta de control sobre el trabajo" />
                            <input type="hidden" name="categoria" value="Factores propios de la actividad" />
                        </div>
                    </div>
     
            </div>

        </div>

        @* tercera categoria *@
        <div id="categoria3">



            <div class="row" style="margin-top:15px;">
                <table class="default">

                    @*<tr>

                        <th>Categoria</th>

                        <td>
                            ORGANIZACIÓN DEL TIEMPO DE TRABAJO
                        </td>

                    </tr>*@

                    <tr>

                        <th>Dominio</th>

                        <td>
                            Jornada de Trabajo, evalúa la
                            posibilidad de existencia de riesgo
                            psicosocial cuando se trabaja con
                            extensas jornadas superiores a las
                            establecidas en la LFT, con frecuente
                            rotación de turnos o turnos
                            nocturnos, sin pausas y descansos
                            periódicos claramente establecidos,
                            sin medidas de prevención y sin
                            protección deltrabajador, lo que
                            puede afectar la salud de manera
                            temprana
                        </td>

                    </tr>

                    @*<tr>

                        <th>Dimension</th>

                        <td>
                            Las y los trabajadores manifiestan que referente a las
                            jornadas de trabajo son poco adecuadas, que la mayoría de
                            las veces tiene que trabajar tiempo extraordinario e
                            igualmente casi siempre tienen que trabajar en días de
                            descanso festivosy/o fines de semana.
                        </td>

                    </tr>*@

                </table>
            </div>

            <div class="row row-cols-6" style="margin-top: 20px;  border-bottom: 2px solid #e0ded7">
                <div class="col"><span class="titulo">Dimensión</span></div>
                <div class="col"><span class="titulo">Nivel de riesgo</span></div>
                <div class="col"><span class="titulo">Acción de mejora</span></div>
                <div class="col"><span class="titulo">Descripcion Detallada</span></div>
                <div class="col"><span class="titulo">Responsable</span></div>
                <div class="col"><span class="titulo">Fecha Compromiso</span></div>
            </div>
            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Jornadas de trabajo extensas
                        </p>
                    </div>
                </div>
               
                    <input type="hidden" id="dimension" name="dimension" value="Jornadas de trabajo extensas" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.jornadas_trabajo_extensas.color"></div>
                        <span class="estado">@Model.dimensionesVal.jornadas_trabajo_extensas.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.jornadas_trabajo_extensas.text
                        </span>
                        <input type="hidden" id="estado" name="estado" value="@Model.dimensionesVal.jornadas_trabajo_extensas.estado" />
                        <input type="hidden" id="descripcion" name="descripcion" value="@Model.dimensionesVal.jornadas_trabajo_extensas.text" />
                        <input type="hidden" id="color" name="color" value="@Model.dimensionesVal.jornadas_trabajo_extensas.color" />
                    </div>

                    <div class="col">
                        <select name="accion" id="acciones">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.jornadas_trabajo_extensas.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>

                    <div class="col">

                        <select name="medidasPrevencion" id="medidaDePrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.jornadas_trabajo_extensas.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.jornadas_trabajo_extensas.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable" id="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.jornadas_trabajo_extensas.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.jornadas_trabajo_extensas.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Jornada de trabajo" />
                            <input type="hidden" name="categoria" value="Organización del tiempo de trabajo" />
                        </div>
                    </div>
            </div>




            <div class="row" style="margin-top:15px;">
                <table class="default">

                    @*<tr>

                        <th>Categoria</th>

                        <td>
                            ORGANIZACIÓN DEL TIEMPO DE TRABAJO
                        </td>

                    </tr>*@

                    <tr>

                        <th>Dominio</th>

                        <td>
                            Trabajo-Familia, evalúa la existencia
                            de conflicto entre lasactividades
                            familiares o personalesy las
                            responsabilidades laborales, cuando
                            de manera constante y continua se
                            tienen que atender
                            responsabilidades laborales durante
                            el tiempo dedicado a la vida familiar
                            y personal, o se tiene que laborar
                            fuera del horario de trabajo
                        </td>

                    </tr>

                    @*<tr>

                        <th>Dimension</th>

                        <td>
                            Con relación a la categoría de balance trabajo- familia,
                            consideran que dado que la jornada de trabajo es poco
                            adecuada, casi nunca puede tener actividades familiares y
                            personalesy continuamente tienen que atender asuntos de
                            trabajo cuando ya salieron de su centro de trabajo, es decir
                            desde casa

                        </td>

                    </tr>*@

                </table>
            </div>

            <div class="row row-cols-6" style="margin-top: 20px;  border-bottom: 2px solid #e0ded7">
                <div class="col"><span class="titulo">Dimensión</span></div>
                <div class="col"><span class="titulo">Nivel de riesgo</span></div>
                <div class="col"><span class="titulo">Acción de mejora</span></div>
                <div class="col"><span class="titulo">Descripcion Detallada</span></div>
                <div class="col"><span class="titulo">Responsable</span></div>
                <div class="col"><span class="titulo">Fecha Compromiso</span></div>
            </div>
            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Influencia del trabajo fuera del centro laboral
                        </p>
                    </div>
                </div>

                
                    <input type="hidden" id="dimension" name="dimension" value="Influencia del trabajo fuera del centro laboral" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.influencia_trabajo_fuera_centro_laboral.color"></div>
                        <span class="estado">@Model.dimensionesVal.influencia_trabajo_fuera_centro_laboral.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.influencia_trabajo_fuera_centro_laboral.text
                        </span>
                        <input type="hidden" id="estado" name="estado" value="@Model.dimensionesVal.influencia_trabajo_fuera_centro_laboral.estado" />
                        <input type="hidden" id="descripcion" name="descripcion" value="@Model.dimensionesVal.influencia_trabajo_fuera_centro_laboral.text" />
                        <input type="hidden" id="color" name="color" value="@Model.dimensionesVal.influencia_trabajo_fuera_centro_laboral.color" />
                    </div>


                    <div class="col">
                        <select name="accion" id="acciones">
                            <option value="">
                                Acciones de Mejora
                            </option>
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion" id="medidaDePrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.influencia_trabajo_fuera_centro_laboral.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.influencia_trabajo_fuera_centro_laboral.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable" id="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.influencia_trabajo_fuera_centro_laboral.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.influencia_trabajo_fuera_centro_laboral.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Interferencia en la relación trabajo-familia" />
                            <input type="hidden" name="categoria" value="Organización del tiempo de trabajo" />
                        </div>
                    </div>
           
            </div>
            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Influencia de las responsabilidades familiares
                        </p>
                    </div>
                </div>

                
                    <input type="hidden" id="dimension" name="dimension" value="Influencia de las responsabilidades familiares" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.influencia_responsabilidades_familiares.color"></div>
                        <span class="estado">@Model.dimensionesVal.influencia_responsabilidades_familiares.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.influencia_responsabilidades_familiares.text
                        </span>
                        <input type="hidden" id="estado" name="estado" value="@Model.dimensionesVal.influencia_responsabilidades_familiares.estado" />
                        <input type="hidden" id="descripcion" name="descripcion" value="@Model.dimensionesVal.influencia_responsabilidades_familiares.text" />
                        <input type="hidden" id="color" name="color" value="@Model.dimensionesVal.influencia_responsabilidades_familiares.color" />
                    </div>




                    <div class="col">
                        <select name="accion" id="acciones">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.influencia_responsabilidades_familiares.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion" id="medidaDePrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.influencia_responsabilidades_familiares.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.influencia_responsabilidades_familiares.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable" id="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.influencia_responsabilidades_familiares.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.influencia_responsabilidades_familiares.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Interferencia en la relación trabajo-familia" />
                            <input type="hidden" name="categoria" value="Organización del tiempo de trabajo" />
                        </div>
                    </div>
                
            </div>


        </div>

        @* cuarta categoria *@
        <div id="categoria4">

            <div class="row" style="margin-top:15px;">
                <table class="default">

                    @*<tr>

                        <th>Categoria</th>

                        <td>
                            LIDERAZGO Y RELACIONES EN EL TRABAJO
                        </td>

                    </tr>*@

                    <tr>

                        <th>Dominio</th>

                        <td>
                            Trabajo Liderazgo, evalúa y hace
                            referencia al tipo de relación
                            existente entre el jefes y
                            subordinado; con el objetivo de
                            evitar riesgo cuando existe actitud
                            agresiva y/o impositiva.

                        </td>

                    </tr>

                    @*<tr>

                        <th>Dimension</th>

                        <td>
                            Las y los colaboradores, manifiestan que el liderazgo del jefe
                            inmediato es deficiente; que rara vez son informados con
                            claridad y oportunamente sobre cuales son sus funciones, los
                            resultadosy objetivos a lograr
                        </td>

                    </tr>*@

                </table>
            </div>

            <div class="row row-cols-6" style="margin-top: 20px;  border-bottom: 2px solid #e0ded7">
                <div class="col"><span class="titulo">Dimensión</span></div>
                <div class="col"><span class="titulo">Nivel de riesgo</span></div>
                <div class="col"><span class="titulo">Acción de mejora</span></div>
                <div class="col"><span class="titulo">Descripcion Detallada</span></div>
                <div class="col"><span class="titulo">Responsable</span></div>
                <div class="col"><span class="titulo">Fecha Compromiso</span></div>
            </div>
            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Escaza claridad de las funciones
                        </p>
                    </div>
                </div>
                  <input type="hidden" name="dimension" value="Escaza claridad de las funciones" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.escaza_claridad_funcionales.color"></div>
                        <span class="estado">@Model.dimensionesVal.escaza_claridad_funcionales.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.escaza_claridad_funcionales.text
                        </span>
                        <input type="hidden" name="estado" value="@Model.dimensionesVal.escaza_claridad_funcionales.estado" />
                        <input type="hidden" name="descripcion" value="@Model.dimensionesVal.escaza_claridad_funcionales.text" />
                        <input type="hidden" name="color" value="@Model.dimensionesVal.escaza_claridad_funcionales.color" />
                    </div>


                    <div class="col">
                        <select name="accion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.escaza_claridad_funcionales.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.escaza_claridad_funcionales.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.escaza_claridad_funcionales.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.escaza_claridad_funcionales.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.escaza_claridad_funcionales.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Liderazgo" />
                            <input type="hidden" name="categoria" value="Liderazgo y relaciones en el trabajo" />
                        </div>
                    </div>

            </div>



            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Características de liderazgo
                        </p>
                    </div>
                </div>
                  <input type="hidden" name="dimension" value="Características de liderazgo" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.caracteristicas_liderazgo.color"></div>
                        <span class="estado">@Model.dimensionesVal.caracteristicas_liderazgo.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.caracteristicas_liderazgo.text
                        </span>
                        <input type="hidden" name="estado" value="@Model.dimensionesVal.caracteristicas_liderazgo.estado" />
                        <input type="hidden" name="descripcion" value="@Model.dimensionesVal.caracteristicas_liderazgo.text" />
                        <input type="hidden" name="color" value="@Model.dimensionesVal.caracteristicas_liderazgo.color" />
                    </div>



                    <div class="col">
                        <select name="accion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.caracteristicas_liderazgo.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>

                    <div class="col">

                        <select name="medidasPrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.caracteristicas_liderazgo.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.caracteristicas_liderazgo.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>

                    <div class="col">
                        <select name="responsable">

                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.caracteristicas_liderazgo.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.caracteristicas_liderazgo.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Liderazgo" />
                            <input type="hidden" name="categoria" value="Liderazgo y relaciones en el trabajo" />
                        </div>
                    </div>
                
            </div>

            <div class="row" style="margin-top:15px;">
                <table class="default">

                    @*<tr>

                        <th>Categoria</th>

                        <td>
                            LIDERAZGO Y RELACIONES EN EL TRABAJO
                        </td>

                    </tr>*@

                    <tr>

                        <th>Dominio</th>

                        <td>
                            Relaciones en el Trabajo, se refiere a
                            la interacción que se establece en el
                            contexto laboral entre compañeros
                            de trabajo, relaciones que al ser
                            positiva y cordial contribuye al
                            Entorno Organizacional favorable;
                            n o obstante al ser relaciones
                            negativas puede representar un
                            riesgo psicosocial en el centro de
                            trabajo y baja productividad


                        </td>

                    </tr>

                    @*<tr>

                        <th>Dimension</th>

                        <td>
                            En relación con los compañeros y compañeras de trabajo
                            expresan que sienten casi nada de confianza y comúnmente
                            existe falta de respeto entre ellos, casi nunca se sienten parte
                            de un grupo y que el trabajo en equipo es casi nulo, que
                            difícilmente se ayudan entre sí cuando tienen dificultades en
                            el desempeño de susfunciones

                        </td>

                    </tr>*@

                </table>
            </div>

            <div class="row row-cols-6" style="margin-top: 20px;  border-bottom: 2px solid #e0ded7">
                <div class="col"><span class="titulo">Dimensión</span></div>
                <div class="col"><span class="titulo">Nivel de riesgo</span></div>
                <div class="col"><span class="titulo">Acción de mejora</span></div>
                <div class="col"><span class="titulo">Descripcion Detallada</span></div>
                <div class="col"><span class="titulo">Responsable</span></div>
                <div class="col"><span class="titulo">Fecha Compromiso</span></div>
            </div>
            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Relaciones sociales en el trabajo
                        </p>
                    </div>
                </div>
                   
                    <input type="hidden" name="dimension" value="Relaciones sociales en el trabajo" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.relaciones_sociales_trabajo.color"></div>
                        <span class="estado">@Model.dimensionesVal.relaciones_sociales_trabajo.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.relaciones_sociales_trabajo.text
                        </span>
                        <input type="hidden" name="estado" value="@Model.dimensionesVal.relaciones_sociales_trabajo.estado" />
                        <input type="hidden" name="descripcion" value="@Model.dimensionesVal.relaciones_sociales_trabajo.text" />
                        <input type="hidden" name="color" value="@Model.dimensionesVal.relaciones_sociales_trabajo.color" />
                    </div>
                    <div class="col">
                        <select name="accion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.relaciones_sociales_trabajo.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.relaciones_sociales_trabajo.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.relaciones_sociales_trabajo.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.relaciones_sociales_trabajo.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>

                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.relaciones_sociales_trabajo.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Relaciones en el trabajo" />
                            <input type="hidden" name="categoria" value="Liderazgo y relaciones en el trabajo" />
                        </div>
                    </div>
            </div>

            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Deficiente  relación con los colaboradores que supervisa
                        </p>
                    </div>
                </div>
               
                    <input type="hidden" name="dimension" value=" Deficiente  relación con los colaboradores que supervisa" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.deficiente_relacion_colaboradores_supervisa.color"></div>
                        <span class="estado">@Model.dimensionesVal.deficiente_relacion_colaboradores_supervisa.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.deficiente_relacion_colaboradores_supervisa.text
                        </span>
                        <input type="hidden" name="estado" value="@Model.dimensionesVal.deficiente_relacion_colaboradores_supervisa.estado" />
                        <input type="hidden" name="descripcion" value="@Model.dimensionesVal.deficiente_relacion_colaboradores_supervisa.text" />
                        <input type="hidden" name="color" value="@Model.dimensionesVal.deficiente_relacion_colaboradores_supervisa.color" />

                    </div>

                    <div class="col">
                        <select name="accion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.deficiente_relacion_colaboradores_supervisa.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.deficiente_relacion_colaboradores_supervisa.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.condiciones_peligrosas_inseguras.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.deficiente_relacion_colaboradores_supervisa.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.deficiente_relacion_colaboradores_supervisa.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Relaciones en el trabajo" />
                            <input type="hidden" name="categoria" value="Liderazgo y relaciones en el trabajo" />
                        </div>
                    </div>
            </div>



            <div class="row" style="margin-top:15px;">
                <table class="default">

                    @*<tr>

                        <th>Categoria</th>

                        <td>
                            LIDERAZGO Y RELACIONES EN EL TRABAJO
                        </td>

                    </tr>*@

                    <tr>

                        <th>Dominio</th>

                        <td>
                            Violencia Laboral, evalúa la
                            existencia de actos de
                            hostigamiento, acoso o malostratos
                            en contra del trabajador, que
                            pueden dañarsu integridad o salud,
                            por ende afectar de manera directa
                            en el Entorno Organizacional
                            Favorable de la empresa.



                        </td>

                    </tr>

                    @*<tr>

                        <th>Dimension</th>

                        <td>
                            Las personas en el centro de trabajo sienten que casi nunca
                            se les permite expresarsu punto, que muchasveces han sido
                            criticadas de manera personal, que existe muy poco respeto;
                            que casi nunca se lestoma en cuenta tanto en las reuniones
                            de trabajo como en la toma de decisiones; que se siente poco
                            reconocido sobre sus éxitos laborales; manifiestan que son
                            casi nulas las oportunidades para mejorar en el trabajo y
                            tomar puestos de mayor jerarquía; y que comúnmente
                            existen actos de violencia laboral como hostigamiento, burlas,
                            acoso o malos tratos en contra de ellos mismos u otra
                            persona
                        </td>

                    </tr>*@

                </table>
            </div>

            <div class="row row-cols-6" style="margin-top: 20px;  border-bottom: 2px solid #e0ded7">
                <div class="col"><span class="titulo">Dimensión</span></div>
                <div class="col"><span class="titulo">Nivel de riesgo</span></div>
                <div class="col"><span class="titulo">Acción de mejora</span></div>
                <div class="col"><span class="titulo">Descripcion Detallada</span></div>
                <div class="col"><span class="titulo">Responsable</span></div>
                <div class="col"><span class="titulo">Fecha Compromiso</span></div>
            </div>
            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Violencia Laboral
                        </p>
                    </div>
                </div>
        
                    <input type="hidden" name="dimension" value="Violencia Laboral" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.violencia_laboral.color"></div>
                        <span class="estado">@Model.dimensionesVal.violencia_laboral.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.violencia_laboral.text
                        </span>
                        <input type="hidden" name="estado" value="@Model.dimensionesVal.violencia_laboral.estado" />
                        <input type="hidden" name="descripcion" value="@Model.dimensionesVal.violencia_laboral.text" />
                        <input type="hidden" name="color" value="@Model.dimensionesVal.violencia_laboral.color" />
                    </div>

                    <div class="col">
                        <select name="accion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.violencia_laboral.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.violencia_laboral.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.violencia_laboral.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.violencia_laboral.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }

                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.violencia_laboral.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Violencia" />
                            <input type="hidden" name="categoria" value="Liderazgo y relaciones en el trabajo" />
                        </div>
                    </div>
                
            </div>
        </div>


        @* quinta categoria *@
        <div id="categoria5">

            <div class="row" style="margin-top:15px;">
                <table class="default">

                    @*<tr>

                        <th>Categoria</th>

                        <td>
                            ENTORNO ORGANIZACIONAL
                        </td>

                    </tr>*@

                    <tr>

                        <th>Dominio</th>

                        <td>
                            Reconocimiento del Desempeño,
                            evalúa como el trabajador recibe
                            retroalimentación sobre el
                            rendimiento en el trabajo y el
                            reconocimiento del mismo,
                            principalmente del jefe inmediato.

                        </td>

                    </tr>

                    @*<tr>

                        <th>Dimension</th>

                        <td>
                            Las y los colaboradores reconocen que rara vez reciben
                            retroalimentación sobre lo que hacen bien en el trabajo y
                            que su desempeño casi nunca es evaluado, por lo que poco
                            les ayuda a mejorar.

                        </td>

                    </tr>*@

                </table>
            </div>

            <div class="row row-cols-6" style="margin-top: 20px;  border-bottom: 2px solid #e0ded7">
                <div class="col"><span class="titulo">Dimensión</span></div>
                <div class="col"><span class="titulo">Nivel de riesgo</span></div>
                <div class="col"><span class="titulo">Acción de mejora</span></div>
                <div class="col"><span class="titulo">Descripcion Detallada</span></div>
                <div class="col"><span class="titulo">Responsable</span></div>
                <div class="col"><span class="titulo">Fecha Compromiso</span></div>
            </div>
            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Escasa o nula retroalimentación del desempeño
                        </p>
                    </div>
                </div>
                
                    <input type="hidden" name="dimension" value="Escasa o nula retroalimentación del desempeño" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.escasa_nula_retroalimentacion_desempeno.color"></div>
                        <span class="estado">@Model.dimensionesVal.escasa_nula_retroalimentacion_desempeno.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.escasa_nula_retroalimentacion_desempeno.text
                        </span>
                        <input type="hidden" name="estado" value="@Model.dimensionesVal.escasa_nula_retroalimentacion_desempeno.estado" />
                        <input type="hidden" name="descripcion" value="@Model.dimensionesVal.escasa_nula_retroalimentacion_desempeno.text" />
                        <input type="hidden" name="color" value="@Model.dimensionesVal.escasa_nula_retroalimentacion_desempeno.color" />
                    </div>

                    <div class="col">
                        <select name="accion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.escasa_nula_retroalimentacion_desempeno.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }

                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.escasa_nula_retroalimentacion_desempeno.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.escasa_nula_retroalimentacion_desempeno.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.escasa_nula_retroalimentacion_desempeno.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.escasa_nula_retroalimentacion_desempeno.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Reconocimiento del desempeño" />
                            <input type="hidden" name="categoria" value="Entorno organizacional" />
                        </div>
                    </div>
            </div>


            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Escaso o nulo reconocimiento y compensación
                        </p>
                    </div>
                </div>
                
                    <input type="hidden" name="dimension" value="Escaso o nulo reconocimiento y compensación" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.escasa_nulo_reconocimiento_compensacion.color"></div>
                        <span class="estado">@Model.dimensionesVal.escasa_nulo_reconocimiento_compensacion.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.escasa_nulo_reconocimiento_compensacion.text
                        </span>
                        <input type="hidden" name="estado" value="@Model.dimensionesVal.escasa_nulo_reconocimiento_compensacion.estado" />
                        <input type="hidden" name="descripcion" value="@Model.dimensionesVal.escasa_nulo_reconocimiento_compensacion.text" />
                        <input type="hidden" name="color" value="@Model.dimensionesVal.escasa_nulo_reconocimiento_compensacion.color" />
                    </div>

                    <div class="col">
                        <select name="accion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.escasa_nulo_reconocimiento_compensacion.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.escasa_nulo_reconocimiento_compensacion.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.escasa_nulo_reconocimiento_compensacion.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.escasa_nulo_reconocimiento_compensacion.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.escasa_nulo_reconocimiento_compensacion.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Reconocimiento del desempeño" />
                            <input type="hidden" name="categoria" value="Entorno organizacional" />

                        </div>
                    </div>
            
            </div>




            <div class="row" style="margin-top:15px;">
                <table class="default">

                    @*<tr>

                        <th>Categoria</th>

                        <td>
                            ENTORNO ORGANIZACIONAL
                        </td>

                    </tr>*@

                    <tr>

                        <th>Dominio</th>

                        <td>
                            Sentido de Pertenencia, muestra el
                            compromiso que la persona siente
                            hacia la empresa, losvínculos y lazos
                            que se han creado como
                            consecuencia de las condiciones del
                            entorno organizacional, así como la
                            estabilidad que la empresa brinda y
                            el trabajador percibe que tiene
                            sobre su continuidad dentro de la
                            misma.
                            .

                        </td>

                    </tr>

                    @*<tr>

                        <th>Dimension</th>

                        <td>
                            Los empleados expresan que se sienten poco orgullosos de
                            pertenecer a la empresa y con un bajo compromiso con su
                            trabajo.

                        </td>

                    </tr>*@

                </table>
            </div>

            <div class="row row-cols-6" style="margin-top: 20px;  border-bottom: 2px solid #e0ded7">
                <div class="col"><span class="titulo">Dimensión</span></div>
                <div class="col"><span class="titulo">Nivel de riesgo</span></div>
                <div class="col"><span class="titulo">Acción de mejora</span></div>
                <div class="col"><span class="titulo">Descripcion Detallada</span></div>
                <div class="col"><span class="titulo">Responsable</span></div>
                <div class="col"><span class="titulo">Fecha Compromiso</span></div>
            </div>
            <br />
            <div class="row row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Limitado sentido de pertenencia
                        </p>
                    </div>
                </div>
                
                    <input type="hidden" name="dimension" value="Limitado sentido de pertenencia" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.limitado_sentido_pertencia.color"></div>
                        <span class="estado">@Model.dimensionesVal.limitado_sentido_pertencia.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.limitado_sentido_pertencia.text
                        </span>
                        <input type="hidden" name="estado" value="@Model.dimensionesVal.limitado_sentido_pertencia.estado" />
                        <input type="hidden" name="descripcion" value="@Model.dimensionesVal.limitado_sentido_pertencia.text" />
                        <input type="hidden" name="color" value="@Model.dimensionesVal.limitado_sentido_pertencia.color" />
                    </div>
                    <div class="col">
                        <select name="accion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.limitado_sentido_pertencia.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="medidasPrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.limitado_sentido_pertencia.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.limitado_sentido_pertencia.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.limitado_sentido_pertencia.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>

                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.limitado_sentido_pertencia.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Insuficiente sentido de pertenencia e, inestabilidad" />
                            <input type="hidden" name="categoria" value="Entorno organizacional" />
                        </div>
                    </div>
            
            </div>

            <br />
            <div class="row dimension row-cols-6">
                <div class="col">
                    <div>
                        <p>
                            Inestabilidad laboral
                        </p>
                    </div>
                </div>
               
                    <input type="hidden" name="dimension" value="Inestabilidad laboral" />

                    <div class="col d-flex align-items-center nivelRiesgo">
                        <div class="circulo-nivel @Model.dimensionesVal.inestabilidad_laboral.color"></div>
                        <span class="estado">@Model.dimensionesVal.inestabilidad_laboral.estado</span>
                        <span class="descripcion">ver descripción...</span>
                        <span class="tooltipD">
                            @Model.dimensionesVal.inestabilidad_laboral.text
                        </span>
                        <input type="hidden" name="estado" value="@Model.dimensionesVal.inestabilidad_laboral.estado" />
                        <input type="hidden" name="descripcion" value="@Model.dimensionesVal.inestabilidad_laboral.text" />
                        <input type="hidden" name="color" value="@Model.dimensionesVal.inestabilidad_laboral.color" />
                    </div>

                    <div class="col">
                        <select name="accion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.inestabilidad_laboral.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Acciones de Mejora
                                </option>
                            }
                            <option value="Prevención">
                                Prevención
                            </option>
                            <option value="Control">
                                Control
                            </option>
                        </select>
                    </div>
                    <div class="col">

                        <select name="medidasPrevencion">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.inestabilidad_laboral.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Medidas de prevención
                                </option>
                            }
                            @foreach (var item in Model.dimensionesVal.inestabilidad_laboral.prevenciones)
                            {
                                <option value="@item.prevencion">
                                    @item.prevencion
                                </option>


                            }
                            <option value="Otra">
                                Otra
                            </option>
                        </select>
                    </div>
                    <div class="col">
                        <select name="responsable">
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.inestabilidad_laboral.estado))
                            {
                                <option value="0" class="alert">
                                    No requiere acciones a realizar
                                </option>
                            }
                            else
                            {
                                <option value="">
                                    Responsable
                                </option>
                            }
                            @foreach (var empleado in Model.empleados)
                            {
                                <option value="@empleado.idUsuario">@empleado.nombre</option>
                            }

                        </select>
                    </div>
                    <div class="col">
                        <div>
                            @if (!Array.Exists(opcionesValidas, x => x == Model.dimensionesVal.inestabilidad_laboral.estado))
                            {
                                <input type="date" class="fecha" name="date" id="opcional" value="" />
                            }
                            else
                            {
                                <input type="date" class="fecha" name="date" id="date" value="" />
                            }
                            <input type="hidden" name="dominio" value="Insuficiente sentido de pertenencia e, inestabilidad" />
                            <input type="hidden" name="categoria" value="Entorno organizacional" />

                        </div>
                    </div>
        
            </div>
        </div>

        <br />
        <div class="row">
            <div>
                <a href="#"  type="submit" name="name" id="save"  class="btn btn-primary boton-enviar"  style="margin-right:20px">Guardar y Continuar</a>
                <a class="btn btn-primary disabled" onclick="alerta()" id="send" href="#">Generar plan de acción y notificar</a>
                <a class="btn btn-warning" href="~/Empresa/Resultados">Guardar y salir</a>
            </div>
        </div>
    </div>
}

<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<script>

    var filtro = document.querySelector("#filtros");
    var send = document.querySelector("#send");
    var categoria1 = document.querySelector("#categoria1");
    var categoria2 = document.querySelector("#categoria2");
    var categoria3 = document.querySelector("#categoria3");
    var categoria4 = document.querySelector("#categoria4");
    var categoria5 = document.querySelector("#categoria5");
    var year = "@ViewBag.year";
    var idCentro = "@ViewBag.idCentro";
    var idEmpresa = "@ViewBag.idEmpresa";
    const saltos = [false, false, false, false, false]

    
   

    const component = {
        "1": categoria1,
        "2": categoria2,
        "3": categoria3,
        "4": categoria4,
        "5": categoria5,
    }


    categoria2.className = "disabled"
    categoria3.className = "disabled"
    categoria4.className = "disabled"
    categoria5.className = "disabled"


     const nextDisplay = (dato) => {
        console.log(dato)
        switch (dato) {

            case "1":
                categoria1.className = ""
                categoria2.className = "disabled"
                categoria3.className = "disabled"
                categoria4.className = "disabled"
                categoria5.className = "disabled"

                break;
            case "2":
                categoria1.className = "disabled"
                categoria2.className = ""
                categoria3.className = "disabled"
                categoria4.className = "disabled"
                categoria5.className = "disabled"

                break;
            case "3":
                categoria1.className = "disabled"
                categoria2.className = "disabled"
                categoria3.className = ""
                categoria4.className = "disabled"
                categoria5.className = "disabled"

                break;
            case "4":
                categoria1.className = "disabled"
                categoria2.className = "disabled"
                categoria3.className = "disabled"
                categoria4.className = ""
                categoria5.className = "disabled"

                break;
            case "5":
                categoria1.className = "disabled"
                categoria2.className = "disabled"
                categoria3.className = "disabled"
                categoria4.className = "disabled"
                categoria5.className = ""
                break;

            default:
        }
    }


    const info = async () => {

        var url = `@Url.Content("~/Resultados/apiCat")?year=${year}&idCentro=${idCentro}&idEmpresa=${idEmpresa}`;
        const res = await axios.post(url);
        const data = res.data;
        return data;

    }





    var data = JSON.parse(localStorage.getItem(year));

    (async () => {
       

        if (data) {
            console.log("dentro")
            var ubicacion = idCentro || "empresa";
            var rango = data[ubicacion];

            if (rango) {


                var data1 = rango["1"] || null;
                var data2 = rango["2"] || null;
                var data3 = rango["3"] || null;
                var data4 = rango["4"] || null;
                var data5 = rango["5"] || null;

                if (data1) {
                    recup(data1, "1")
                    saltos[0] = true;
                }
                if (data2) {
                    recup(data2, "2")
                    saltos[1] = true;
                }
                if (data3) {
                    recup(data3, "3")
                    saltos[2] = true;
                }
                if (data4) {
                    recup(data4, "4")
                    saltos[3] = true;
                }
                if (data5) {
                    recup(data5, "5")
                    saltos[4] = true;
                }

                var index = saltos.indexOf(false)
                if (index + 1 != 0) {
                    filtro.value = index + 1;
                    nextDisplay(filtro.value);
                }

            } 
        } else {
            data = await info();
            if (data.length != 0) {
                var { categoria1: data1, categoria2: data2, categoria3: data3, categoria4: data4, categoria5: data5 } = data;
                console.log(data1)

                //if (data1) {
                //    recup(data1, "1")
                //    saltos[0] = true;
                //}
                //if (data2) {
                //    recup(data2, "2")
                //    saltos[1] = true;
                //}
                //if (data3) {
                //    recup(data3, "3")
                //    saltos[2] = true;
                //}
                //if (data4) {
                //    recup(data4, "4")
                //    saltos[3] = true;
                //}
                //if (data5) {
                //    recup(data5, "5")
                //    saltos[4] = true;
                //}

                //var index = saltos.indexOf(false)
                //if (index + 1 != 0) {
                //    filtro.value = index + 1;
                //    nextDisplay(filtro.value);
                //}
                
            }

        }


    }) ()




    //colocar valores al formulario
    function recup(value, status) {
        const section = component[status];
        let row = [...section.querySelectorAll(".dimension")];
        row.forEach((d, index) => {

            const item = [...d.querySelectorAll("select, input")]
            const result = value[index];

            item.map((d, index) => {

                d.value = result[d.name]
            })


        })


        filtro.querySelector(`option[value="${status}"]`).textContent += " (Acciones guardadas)"
    }



    function alert_p(text) {
        Swal.fire(text);
    }




    function alerta() {
        Swal.fire({
            position: 'center',
            icon: 'success',
            title: 'NOM-035-STPS-2018 "Plan de Acción para la Intervención de Riesgo Psicosocial y Entorno Organizacional favorable generado y enviado correctamente',
            showConfirmButton: false,
            timer: 3500
        })

    }

    var save = document.querySelector("#save");
    save.addEventListener("click", (event) => {
        event.preventDefault()
        const section = component[filtro.value];
        const ternario = validarCampos(section);


        if (ternario) {
            let add = []
            let row = [...section.querySelectorAll(".dimension")];
            let objectCategoriaLocal;
            row.forEach((d) => {

                const item = [...d.querySelectorAll("select, input")]

                const data = item.map(d => d.value)

                arreglo = {

                    accion: data[4],
                    color: data[3],
                    dimension: data[0],
                    estado: data[1],
                    descripcion: data[2],
                    medidasPrevencion: data[5],
                    responsable: data[6],
                    date: data[7],
                    categoria: data[9],
                    dominio: data[8],
                    idCentro: idCentro,
                    year: year,
                }

                add.push(arreglo)

            })


            objectCategoriaLocal = JSON.parse(localStorage.getItem(year))

            if (objectCategoriaLocal) {
                selector = idCentro || "empresa";

                var arreglo = objectCategoriaLocal[selector];

                objectCategoriaLocal = {
                    ...objectCategoriaLocal,
                    [selector]: {
                        ...arreglo,
                        [filtro.value]: add
                    }

                }

            } else {

                selector = idCentro || "empresa";
                objectCategoriaLocal = {
                    [selector]: {
                        [filtro.value]: add
                    }

                }

            }
            var poblacion = idCentro || "empresa";
            localStorage.setItem(year, JSON.stringify(objectCategoriaLocal))
            var exist = JSON.parse(localStorage.getItem(year))
            if (exist[poblacion][filtro.value]) {
                alert_p("acciones guardadas exitosamente")

                var concatenar = filtro.querySelector(`option[value="${filtro.value}"]`).textContent
                if (!concatenar.includes("(Acciones guardadas)")) {
                    filtro.querySelector(`option[value="${filtro.value}"]`).textContent += " (Acciones guardadas)"

                }


                saltos[filtro.value - 1] = true;
                var index = saltos.indexOf(false)
                if (index + 1 != 0) {
                    filtro.value = index + 1;
                    nextDisplay(filtro.value);
                }
            }
            } else {
                 alert_p("Error campos vacios")
             }

        var datax = JSON.parse(localStorage.getItem(year))
        if (datax) {
            var ubicacion = idCentro || "empresa";
            var rango = datax[ubicacion];
            var info1 = rango["1"] || null;
            var info2 = rango["2"] || null;
            var info3 = rango["3"] || null;
            var info4 = rango["4"] || null;
            var info5 = rango["5"] || null;

        if (!!info1 & !!info2 & !!info3 & !!info4 & !!info5) {

            send.className = 'btn btn-primary';

        }
        }




    })





    const validarCampos = (categoria) => {

        const element = [...categoria.querySelectorAll("select ,input")]

        let filt = element.filter(item => item.value == "");
        filt = filt.filter(item => item.id != "opcional");
        if (filt.length != 0) { return false } else { return true}
    }


    filtro.addEventListener("change", (event) => {
        let dato = event.target.value;
        nextDisplay(dato);

    })





    send.addEventListener("click", () => {
        var datax = JSON.parse(localStorage.getItem(year))
        var ubicacion = idCentro || "empresa";
        var rango = datax[ubicacion];
        var info1 = rango["1"] || null;
        var info2 = rango["2"] || null;
        var info3 = rango["3"] || null;
        var info4 = rango["4"] || null;
        var info5 = rango["5"] || null;

        if (!!info1 & !!info2 & !!info3 & !!info4 & !!info5) {

            let elements = [
                ...info1,
                ...info2,
                ...info3,
                ...info4,
                ...info5,
            ]

            elements = elements.filter(d => Object.keys(d).length != 0 & d.accion != 0)
           console.log(elements)

                var url = "@Url.Content("~/Resultados/AddAcciones")";
                var data = {
                    elements,
                }

                    fetch(url, {
                        method: "POST",
                        body: JSON.stringify(data), // data can be `string` or {object}!
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    })



        } else {
            alert_p("No se puede enviar la informacion esta incompleta")
        }
    })

</script>


